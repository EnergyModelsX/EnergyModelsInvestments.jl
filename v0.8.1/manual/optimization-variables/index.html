<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Optimization variables · EnergyModelsInvestments</title><meta name="title" content="Optimization variables · EnergyModelsInvestments"/><meta property="og:title" content="Optimization variables · EnergyModelsInvestments"/><meta property="twitter:title" content="Optimization variables · EnergyModelsInvestments"/><meta name="description" content="Documentation for EnergyModelsInvestments."/><meta property="og:description" content="Documentation for EnergyModelsInvestments."/><meta property="twitter:description" content="Documentation for EnergyModelsInvestments."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">EnergyModelsInvestments</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../quick-start/">Quick Start</a></li><li><a class="tocitem" href="../philosophy/">Philosophy</a></li><li class="is-active"><a class="tocitem" href>Optimization variables</a><ul class="internal"><li><a class="tocitem" href="#man-opt_var-gen"><span>General structure of variables</span></a></li><li><a class="tocitem" href="#man-opt_var-cost"><span>Cost variables</span></a></li><li><a class="tocitem" href="#man-opt_var-cap"><span>Capacity variables</span></a></li><li><a class="tocitem" href="#man-opt_var-aux"><span>Auxiliary variables</span></a></li></ul></li><li><a class="tocitem" href="../simple-example/">Example</a></li><li><a class="tocitem" href="../NEWS/">Release notes</a></li></ul></li><li><span class="tocitem">How to</span><ul><li><a class="tocitem" href="../../how-to/update-models/">Update models</a></li><li><a class="tocitem" href="../../how-to/use-emi/">Use EMI</a></li><li><a class="tocitem" href="../../how-to/contribute/">Contribute to EnergyModelsInvestments</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../../library/public/">Public</a></li><li><a class="tocitem" href="../../library/internals/">Internals</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Optimization variables</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Optimization variables</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/EnergyModelsX/EnergyModelsInvestments.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/EnergyModelsX/EnergyModelsInvestments.jl/blob/main/docs/src/manual/optimization-variables.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="man-opt_var"><a class="docs-heading-anchor" href="#man-opt_var">Optimization variables</a><a id="man-opt_var-1"></a><a class="docs-heading-anchor-permalink" href="#man-opt_var" title="Permalink"></a></h1><p><code>EnergyModelsInvestments</code> requires that variables are declared by the package which uses it. These variables are required for being able to extend the model with the potential for investments and to follow a given nomenclature utilizing a <code>prefix</code> symbol.</p><p>The individual variables can be differentiated in <em><a href="#man-opt_var-cost">Cost variables</a></em>, <em><a href="#man-opt_var-cap">Capacity variables</a></em>, and <em><a href="#man-opt_var-aux">Auxiliary variables</a></em>.</p><h2 id="man-opt_var-gen"><a class="docs-heading-anchor" href="#man-opt_var-gen">General structure of variables</a><a id="man-opt_var-gen-1"></a><a class="docs-heading-anchor-permalink" href="#man-opt_var-gen" title="Permalink"></a></h2><p>As an example, consider the capex variables. The capex variables with a prefix <code>:cap</code> are given by <span>$\texttt{cap\_capex}[n_\texttt{inv}, t_\texttt{inv}]$</span> for <code>Node</code> <span>$n_\texttt{inv}$</span> with investments in investment period <span>$t_\texttt{inv}$</span>. They are extracted using the functions functions <a href="../../library/internals/#EnergyModelsInvestments.get_var_capex"><code>EMI.get_var_capex(m, prefix::Symbol)</code></a> and <a href="../../library/internals/#EnergyModelsInvestments.get_var_capex"><code>EMI.get_var_capex(m, prefix::Symbol, element)</code></a> in which <code>m</code> corresponds to the JuMP model, prefix to a prefix used in variable declaration (in this case <code>:cap</code>) and element to an instance of the element (in the previous example given as <span>$n_\texttt{inv}$</span>).</p><p>They are <strong>not</strong> declared within <code>EnergyModelsInvestments</code>, but have to be declared within the model using <code>EnergyModelsInvestments</code>. This is illustrated in the <code>EMIExt</code> of <code>EnergyModelsBase</code>.</p><h2 id="man-opt_var-cost"><a class="docs-heading-anchor" href="#man-opt_var-cost">Cost variables</a><a id="man-opt_var-cost-1"></a><a class="docs-heading-anchor-permalink" href="#man-opt_var-cost" title="Permalink"></a></h2><p><code>EnergyModelsInvestments</code> requires the introduction of variables that help extracting the cost of investments in an element at each investment period. One example is given through <code>EnergyModelsBase</code>:</p><ul><li><span>$\texttt{cap\_capex}[n_\texttt{inv}, t_\texttt{inv}]$</span>: Undiscounted total CAPEX of <code>Node</code> <span>$n_\texttt{inv}$</span> with investments in investment period <span>$t_\texttt{inv}$</span>.</li></ul><p>The total CAPEX takes into account the invested capacity to calculate the total costs as well as the end of horizon value of the individual technologies including discounting.</p><p>The variable is extracted using the functions <a href="../../library/internals/#EnergyModelsInvestments.get_var_capex"><code>EMI.get_var_capex(m, prefix::Symbol)</code></a> (for all variables) and <a href="../../library/internals/#EnergyModelsInvestments.get_var_capex"><code>EMI.get_var_capex(m, prefix::Symbol, element)</code></a> (for only the variable from a given element instance) in which <code>m</code> corresponds to the JuMP model, and <code>prefix</code> to a prefix used in variable declaratio.</p><div class="admonition is-success"><header class="admonition-header">Units of cost variables</header><div class="admonition-body"><p>Cost variables provide the absolute costs within an investment period <span>$t_\texttt{inv}$</span>. An example unit would be € or $.</p></div></div><h2 id="man-opt_var-cap"><a class="docs-heading-anchor" href="#man-opt_var-cap">Capacity variables</a><a id="man-opt_var-cap-1"></a><a class="docs-heading-anchor-permalink" href="#man-opt_var-cap" title="Permalink"></a></h2><p>Capacity variables are variables that manipulate the installed capacity. In general, we can differentiate in installed capacity variables and change of capacity variables. The installed capacity variables are:</p><ul><li><span>$\texttt{cap\_inst}[n, t]$</span>: Installed capacity of <code>Node</code> <span>$n$</span> with investments in operational period <span>$t$</span> and</li><li><span>$\texttt{cap\_current}[n_\texttt{inv}, t_\texttt{inv}]$</span>: Installed capacity of <code>Node</code> <span>$n_\texttt{inv}$</span> with investments in investment period <span>$t_\texttt{inv}$</span>.</li></ul><p>The approach is similar to the <em><a href="#man-opt_var-cost">Cost variables</a></em> as variables are created for each of the individual elements. They are extracted using the functions functions <a href="../../library/internals/#EnergyModelsInvestments.get_var_inst"><code>EMI.get_var_inst(m, prefix::Symbol)</code></a> and <a href="../../library/internals/#EnergyModelsInvestments.get_var_inst"><code>EMI.get_var_inst(m, prefix::Symbol, element)</code></a> as well as <a href="../../library/internals/#EnergyModelsInvestments.get_var_current"><code>EMI.get_var_current(m, prefix::Symbol)</code></a> and <a href="../../library/internals/#EnergyModelsInvestments.get_var_current"><code>EMI.get_var_current(m, prefix::Symbol, element)</code></a>.</p><div class="admonition is-info"><header class="admonition-header">Why two capacity variables</header><div class="admonition-body"><p>The variable <span>$\texttt{cap\_inst}$</span> is slightly redundant in this design. It is indexed over operational periods <span>$t$</span> to allow for variations in the demand on an operational level within nodes without investments. This could have been also solved by using a profile, but it was decided to keep the current design. The introduction of a new variable through <span>$\texttt{cap\_current}$</span> for the capacity at an investment period simplifies the indexing.</p><p>If you do not have nodes without investments, you still have to create the variable. In this case, we suggest to not use this variable at all and link the capacity usage directly to <span>$\texttt{cap\_current}$</span></p></div></div><p>In addition, we introduce variables for investments in an investment period as:</p><ul><li><span>$\texttt{cap\_add}[n_\texttt{inv}, t_\texttt{inv}]$</span>: Added capacity of <code>Node</code> <span>$n_\texttt{inv}$</span> with investments in the beginning of investment period <span>$t_\texttt{inv}$</span>.</li></ul><p>The investments are available at the beginning of an investment period. They are extracted using the functions functions <a href="../../library/internals/#EnergyModelsInvestments.get_var_add"><code>EMI.get_var_add(m, prefix::Symbol)</code></a> and <a href="../../library/internals/#EnergyModelsInvestments.get_var_add"><code>EMI.get_var_add(m, prefix::Symbol, element)</code></a>.</p><p>The model can also choose to retire technologies at the end of each investment period through removal variables given as:</p><ul><li><span>$\texttt{cap\_rem}[n_\texttt{inv}, t_\texttt{inv}]$</span>: Retired capacity of <code>Node</code> <span>$n_\texttt{inv}$</span> with investments at the end of investment period <span>$t_\texttt{inv}$</span>.</li></ul><p>The retired capacity corresponds to removal of capacity, either due to the end of lifetime or due to lack of usage. Capacity removal has an impact on the objective function due to removal of the fixed OPEX. It can hence be beneficial for the model to remove unused capacity to avoid fixed OPEX when the technology is not used in the future. Early removal of a technology, that is before the end of its lifetime, does not provide a rest value to the objective function. The variables are extracted using the functions functions <a href="../../library/internals/#EnergyModelsInvestments.get_var_rem"><code>EMI.get_var_rem(m, prefix::Symbol)</code></a> and <a href="../../library/internals/#EnergyModelsInvestments.get_var_rem"><code>EMI.get_var_rem(m, prefix::Symbol, element)</code></a>.</p><div class="admonition is-success"><header class="admonition-header">Units of capacity variables</header><div class="admonition-body"><p>The units of the capacity variables are defined by the user. Within <code>EnergyModelsBase</code>, we use both rates (normal nodes as well as charge and discharge capacity of <code>Storage</code> nodes) and energy/mass (level capacity of <code>Storage</code> nodes). Hence, it is important to consider the requirement of the model when deciding the unit.</p></div></div><h2 id="man-opt_var-aux"><a class="docs-heading-anchor" href="#man-opt_var-aux">Auxiliary variables</a><a id="man-opt_var-aux-1"></a><a class="docs-heading-anchor-permalink" href="#man-opt_var-aux" title="Permalink"></a></h2><p>Auxiliary variables are variables that are required for certain investment modes. The model creates these variables only if the investment mode requires them. The meaning of the auxiliary variables changes depending on the investment mode.</p><p>These variables are:</p><ul><li><span>$\texttt{cap\_invest\_b}[n_\texttt{inv}, t_\texttt{inv}]$</span> and</li><li><span>$\texttt{cap\_remove\_b}[n_\texttt{inv}, t_\texttt{inv}]$</span>,</li></ul><p>accessed through the functions <a href="../../library/internals/#EnergyModelsInvestments.get_var_invest_b"><code>EMI.get_var_invest_b(m, prefix::Symbol)</code></a>, <a href="../../library/internals/#EnergyModelsInvestments.get_var_invest_b"><code>EMI.get_var_invest_b(m, prefix::Symbol, element)</code></a>, <a href="../../library/internals/#EnergyModelsInvestments.get_var_remove_b"><code>EMI.get_var_remove_b(m, prefix::Symbol)</code></a>, and <a href="../../library/internals/#EnergyModelsInvestments.get_var_remove_b"><code>EMI.get_var_remove_b(m, prefix::Symbol, element)</code></a>.</p><p>The auxiliary variables are only created if the investment mode requires them through the application <a href="https://github.com/sintefore/SparseVariables.jl"><code>SparseVariables</code></a>.</p><h3 id="[BinaryInvestment](@ref)"><a class="docs-heading-anchor" href="#[BinaryInvestment](@ref)"><a href="../../library/public/#BinaryInvestment"><code>BinaryInvestment</code></a></a><a id="[BinaryInvestment](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[BinaryInvestment](@ref)" title="Permalink"></a></h3><p>The variable <span>$\texttt{cap\_invest\_b}$</span> is a binary and used in calculating the current capacity. The variable <span>$\texttt{cap\_remove\_b}$</span> is not included in any constraint.</p><h3 id="[DiscreteInvestment](@ref)"><a class="docs-heading-anchor" href="#[DiscreteInvestment](@ref)"><a href="../../library/public/#DiscreteInvestment"><code>DiscreteInvestment</code></a></a><a id="[DiscreteInvestment](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[DiscreteInvestment](@ref)" title="Permalink"></a></h3><p>The variable <span>$\texttt{cap\_invest\_b}$</span> is an integer and used in calculating the added capacity. The variable <span>$\texttt{cap\_remove\_b}$</span> is an integer and used in calculating the removed capacity.</p><h3 id="[SemiContiInvestment](@ref)"><a class="docs-heading-anchor" href="#[SemiContiInvestment](@ref)"><a href="../../library/public/#SemiContiInvestment"><code>SemiContiInvestment</code></a></a><a id="[SemiContiInvestment](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[SemiContiInvestment](@ref)" title="Permalink"></a></h3><p>The variable <span>$\texttt{cap\_invest\_b}$</span> is a binary and used in calculating the added capacity by providing a lower bound as well as in the CAPEX calculation in the case of <a href="../../library/public/#SemiContinuousOffsetInvestment"><code>SemiContinuousOffsetInvestment</code></a>. The variable <span>$\texttt{cap\_remove\_b}$</span> is not included in any constraint.</p><h3 id="[FixedInvestment](@ref)"><a class="docs-heading-anchor" href="#[FixedInvestment](@ref)"><a href="../../library/public/#FixedInvestment"><code>FixedInvestment</code></a></a><a id="[FixedInvestment](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[FixedInvestment](@ref)" title="Permalink"></a></h3><p>The variable <span>$\texttt{cap\_invest\_b}$</span> is fixed to 1 and used in calculating the current capacity. The variable <span>$\texttt{cap\_remove\_b}$</span> is not included in any constraint.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../philosophy/">« Philosophy</a><a class="docs-footer-nextpage" href="../simple-example/">Example »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Thursday 24 October 2024 12:46">Thursday 24 October 2024</span>. Using Julia version 1.11.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
